//!autogenerated 
//src: D:\workspaces\stack-2021\work-tests\jetgui-viewer-standalone_win\layout\jml\storage\prefabStorageItem.jml
//md5: a843abf8938d39295146b6b589368651
package jetgui.generated.jml;

import jetgui.*;
import jetgui.data.*;
import jetgui.generated.jss.*;
import jetgui.generated.jtp.*;
import jetgui.SafeCode;
import jetgui.style.*;
import jetgui.style.EColor;
import jetgui.style.EColorMatrix;
import jetgui.style.EInteract;
import jetgui.style.ESize;
import jetgui.vdom.*;
import taonga.templates.tpl.*;

import jetgui.fn.GuiFunctionList.*;

using jetgui.JetContextHelper;

class StoragePrefabstorageitem extends VDomComponent {

#if jetguiPreview

	private static var expose: Bool = {
		JetguiPreview.classList["StoragePrefabstorageitem"] = StoragePrefabstorageitem;
		true;
	}
	
	public var fieldTypes: Dynamic = {
		storageItem: "JtpStorageStorageitem",
	}
	
	public var mockProps: Dynamic = {
		storageItem: '{	
		"image" : "game/itemPineapple.png",
   		"title" : "Pineapple",
    	"count" : 10,
		"modeSale" : true,
		"saleCount" : 8,
		"salePrice": 400
	}',
	}

#end
	public var storageItem: Null<JtpStorageStorageitem>;
	
	override public function createComponent(): Component {
		return new StoragePrefabstorageitemComponent();
	}
	
	override public function copyFrom(from: VDomComponent) {
		
		var f: StoragePrefabstorageitem = cast(from, StoragePrefabstorageitem);
		
		this.storageItem = f.storageItem;
	}
}

class StoragePrefabstorageitemComponent extends Component {
	
	static var styleRules: Null<Array<StyleRule>> = 
		{
			var styles: Array<Array<StyleRule>> = [
				JssJssFonts.rules,
				JssJssMain.rules,
			];
			StyleSorter.sortStyles(styles);
		}
	
	
	public var storageItem(get, set): Null<JtpStorageStorageitem>;
	public var storageItem_value: Value<JtpStorageStorageitem>;

	private inline function get_storageItem() {
		return storageItem_value.get();
	}
	
	private inline function set_storageItem(v) {
		storageItem_value.set(v); 
		return v; 
	}
	

	
	public function new() {
		
		storageItem_value = new Value<JtpStorageStorageitem>();
	}
	override public function applyVDomAttributes(vDomNode: VDomNode): Void {
		
		var v: StoragePrefabstorageitem = cast(vDomNode, StoragePrefabstorageitem);
		storageItem = v.storageItem;
		ctx = v.ctx;
	}
	
	override public function render(vDom: VDomComponent): Null<Array<VDomNode>> {
		var result: Array<VDomNode> = [];
		result.push({
			var e = new VDomElement(VDomIdMacro.makeId());
			e.styleRules = styleRules;
			e.tag = SafeCode.run("vbox");
			e.classList = SafeCode.run("granary-item");
			e.addChild({
				var e = new VDomElement(VDomIdMacro.makeId());
				e.styleRules = styleRules;
				e.tag = SafeCode.run("img");
				e.src = SafeCode.run(storageItem.image);
				e.classList = SafeCode.run("granary-item__img");
				e;
			});
			var condition: Null<Bool>;
			condition = SafeCode.run(!storageItem.modeSale);
			if(condition) {
				e.addChild({
					var e = new VDomElement(VDomIdMacro.makeId());
					e.styleRules = styleRules;
					e.tag = SafeCode.run("text");
					e.value = SafeCode.run(storageItem.title);
					e.classList = SafeCode.run("granary-item__title");
					e.wrap = SafeCode.run(true);
					e;
				});
				e.addChild({
					var e = new VDomElement(VDomIdMacro.makeId());
					e.styleRules = styleRules;
					e.tag = SafeCode.run("text");
					e.value = SafeCode.run(storageItem.count);
					e.classList = SafeCode.run("granary-item__count");
					e;
				});
			}
			var condition: Null<Bool>;
			condition = SafeCode.run(storageItem.modeSale);
			if(condition) {
				e.addChild({
					var e = new VDomElement(VDomIdMacro.makeId());
					e.styleRules = styleRules;
					e.tag = SafeCode.run("text");
					e.value = SafeCode.run(storageItem.count);
					e.classList = SafeCode.run("granary-item__count");
					e;
				});
				e.addChild({
					var e = new VDomElement(VDomIdMacro.makeId());
					e.styleRules = styleRules;
					e.tag = SafeCode.run("vbox");
					e.classList = SafeCode.run("granary-item__sale");
					e.addChild({
						var e = new VDomElement(VDomIdMacro.makeId());
						e.styleRules = styleRules;
						e.tag = SafeCode.run("text");
						e.value = SafeCode.run(storageItem.saleCount);
						e.classList = SafeCode.run("text-base");
						e;
					});
					e.addChild({
						var e = new VDomElement(VDomIdMacro.makeId());
						e.styleRules = styleRules;
						e.tag = SafeCode.run("text");
						e.value = SafeCode.run(storageItem.salePrice);
						e.classList = SafeCode.run("text-base");
						e;
					});
					e;
				});
			}
			e;
		});
		return result;
	}	
}
